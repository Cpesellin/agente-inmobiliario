<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Inmobiliaria House Â· Propiedades</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --white:#ffffff;
  --g50:#f8fafc;
  --g100:#f1f5f9;
  --g200:#e2e8f0;
  --g300:#cbd5e1;
  --g400:#94a3b8;
  --g500:#64748b;
  --g600:#475569;
  --g700:#334155;
  --g800:#1e293b;
  --b50:#eff6ff;
  --b100:#dbeafe;
  --b200:#bfdbfe;
  --b300:#93c5fd;
  --b400:#60a5fa;
  --b500:#3b82f6;
  --b600:#2563eb;
  --b700:#1d4ed8;
  --b800:#1e40af;
  --b900:#1e3a8a;
  --green:#10b981;
  --greenbg:#ecfdf5;
  --red:#ef4444;
  --redbg:#fef2f2;
  --gold:#f59e0b;
  --goldbg:#fffbeb;
  --shadow-sm:0 1px 3px rgba(0,0,0,0.08),0 1px 2px rgba(0,0,0,0.04);
  --shadow:0 4px 16px rgba(0,0,0,0.08),0 2px 6px rgba(0,0,0,0.04);
  --shadow-lg:0 12px 40px rgba(0,0,0,0.10),0 4px 12px rgba(0,0,0,0.06);
  --shadow-xl:0 24px 64px rgba(0,0,0,0.12);
  --r:14px;--r-sm:8px;--r-lg:20px;--r-xl:28px;
}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html{scroll-behavior:smooth;font-size:16px}
body{font-family:'Outfit',sans-serif;background:var(--g50);color:var(--g800);min-height:100vh;overflow-x:hidden;line-height:1.5}

/* â”€â”€ SCROLLBAR â”€â”€ */
::-webkit-scrollbar{width:6px}
::-webkit-scrollbar-track{background:var(--g100)}
::-webkit-scrollbar-thumb{background:var(--b300);border-radius:3px}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HEADER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
header{
  position:sticky;top:0;z-index:100;
  background:rgba(255,255,255,0.95);
  backdrop-filter:blur(16px);
  border-bottom:1px solid var(--g200);
  box-shadow:var(--shadow-sm);
}
.nav{
  max-width:1200px;margin:0 auto;
  padding:0 20px;height:64px;
  display:flex;align-items:center;justify-content:space-between;gap:12px;
}

/* LOGO SVG */
.logo-wrap{display:flex;align-items:center;gap:10px;text-decoration:none;flex-shrink:0}
.logo-svg{width:40px;height:40px;flex-shrink:0}
.logo-text{display:flex;flex-direction:column;line-height:1}
.logo-main{font-family:'Cormorant Garamond',serif;font-size:17px;font-weight:700;color:var(--g800);letter-spacing:-0.3px}
.logo-sub{font-size:9.5px;font-weight:600;color:var(--b600);letter-spacing:2.5px;text-transform:uppercase;margin-top:1px}
.live-badge{
  display:flex;align-items:center;gap:5px;
  background:var(--greenbg);border:1px solid rgba(16,185,129,0.2);
  border-radius:20px;padding:5px 11px;
  font-size:11px;font-weight:600;color:var(--green);
  flex-shrink:0;
}
.live-dot{width:6px;height:6px;border-radius:50%;background:var(--green);animation:blink 2s infinite}
@keyframes blink{0%,100%{opacity:1;transform:scale(1)}50%{opacity:0.5;transform:scale(0.8)}}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HERO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.hero{
  background:linear-gradient(160deg, var(--b900) 0%, var(--b700) 45%, var(--b600) 100%);
  position:relative;overflow:hidden;
  padding:56px 20px 52px;
  text-align:center;
}
.hero::before{
  content:'';position:absolute;inset:0;
  background:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  pointer-events:none;
}
.hero::after{
  content:'';position:absolute;
  bottom:-60px;left:50%;transform:translateX(-50%);
  width:800px;height:200px;
  background:radial-gradient(ellipse,rgba(255,255,255,0.06),transparent);
  pointer-events:none;
}
.hero-inner{position:relative;z-index:1;max-width:640px;margin:0 auto}
.hero-tag{
  display:inline-flex;align-items:center;gap:6px;
  background:rgba(255,255,255,0.12);
  border:1px solid rgba(255,255,255,0.2);
  border-radius:20px;padding:6px 14px;
  font-size:12px;font-weight:500;color:rgba(255,255,255,0.9);
  letter-spacing:1px;text-transform:uppercase;
  margin-bottom:20px;
}
.hero h1{
  font-family:'Cormorant Garamond',serif;
  font-size:clamp(32px,7vw,54px);
  font-weight:700;color:#fff;
  line-height:1.1;letter-spacing:-1px;
  margin-bottom:12px;
}
.hero h1 em{font-style:italic;color:var(--b200)}
.hero-sub{font-size:15px;color:rgba(255,255,255,0.72);font-weight:300;max-width:420px;margin:0 auto 36px}

/* STATS ROW */
.stats-row{
  display:flex;justify-content:center;flex-wrap:wrap;gap:0;
  background:rgba(255,255,255,0.1);
  border:1px solid rgba(255,255,255,0.15);
  border-radius:var(--r);overflow:hidden;
  backdrop-filter:blur(8px);
  max-width:500px;margin:0 auto;
}
.stat{flex:1;min-width:110px;padding:16px 12px;border-right:1px solid rgba(255,255,255,0.12);text-align:center}
.stat:last-child{border-right:none}
.stat-n{font-family:'Cormorant Garamond',serif;font-size:28px;font-weight:700;color:#fff;line-height:1}
.stat-l{font-size:10px;color:rgba(255,255,255,0.6);text-transform:uppercase;letter-spacing:1px;margin-top:3px}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STATUS BAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.status-bar{background:#fff;border-bottom:1px solid var(--g200)}
.status-inner{max-width:1200px;margin:0 auto;padding:10px 20px;display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.sbadge{display:inline-flex;align-items:center;gap:6px;padding:5px 12px;border-radius:20px;font-size:12px;font-weight:600}
.sb-ok{background:var(--greenbg);color:var(--green);border:1px solid rgba(16,185,129,0.2)}
.sb-load{background:var(--b50);color:var(--b600);border:1px solid var(--b200)}
.sb-err{background:var(--redbg);color:var(--red);border:1px solid rgba(239,68,68,0.2)}
.sb-spin{display:inline-block;animation:spin 1s linear infinite;font-style:normal}
@keyframes spin{to{transform:rotate(360deg)}}
.reload-btn{
  margin-left:auto;display:none;align-items:center;gap:6px;
  background:var(--b600);color:#fff;border:none;
  padding:6px 14px;border-radius:20px;font-size:12px;font-weight:600;
  cursor:pointer;font-family:'Outfit',sans-serif;transition:all 0.2s;
}
.reload-btn:hover{background:var(--b700)}
#status-time{font-size:11px;color:var(--g400)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   APP / LAYOUT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.app{max-width:1200px;margin:0 auto;padding:24px 16px 80px}

/* CARD BASE */
.card{
  background:#fff;border:1px solid var(--g200);
  border-radius:var(--r);box-shadow:var(--shadow-sm);
  overflow:hidden;margin-bottom:16px;
}
.card-head{
  padding:18px 20px;border-bottom:1px solid var(--g100);
  display:flex;align-items:center;gap:12px;
}
.ch-icon{
  width:40px;height:40px;border-radius:10px;
  display:flex;align-items:center;justify-content:center;
  font-size:18px;flex-shrink:0;
}
.chi-blue{background:var(--b50);color:var(--b600)}
.ch-title{font-family:'Cormorant Garamond',serif;font-size:18px;font-weight:700;color:var(--g800)}
.ch-sub{font-size:12px;color:var(--g400);margin-top:1px}
.card-body{padding:18px 20px}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FILTROS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.fgrid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.fsec{background:var(--g50);border:1px solid var(--g200);border-radius:10px;padding:14px}
.fsec.full{grid-column:1/-1}
.flabel{font-size:10px;font-weight:700;letter-spacing:1.8px;text-transform:uppercase;color:var(--g500);margin-bottom:10px}
.chips{display:flex;flex-wrap:wrap;gap:6px}
.chip{
  display:inline-flex;align-items:center;gap:4px;
  padding:7px 13px;border-radius:20px;font-size:12.5px;font-weight:500;
  cursor:pointer;border:1.5px solid var(--g200);
  background:#fff;color:var(--g600);
  transition:all 0.15s;user-select:none;white-space:nowrap;
}
.chip:hover{border-color:var(--b400);color:var(--b600);background:var(--b50)}
.chip.on{border-color:var(--b500);color:var(--b700);background:var(--b50);font-weight:600}
.chip.on.cg{border-color:var(--green);color:#065f46;background:var(--greenbg)}
.chip.on.co{border-color:var(--gold);color:#92400e;background:var(--goldbg)}
.chip.on.cp{border-color:#8b5cf6;color:#5b21b6;background:#f5f3ff}

/* ACTIVE TAGS */
.atags{display:flex;flex-wrap:wrap;gap:6px;margin-top:12px;min-height:4px}
.atag{
  display:inline-flex;align-items:center;gap:4px;
  background:var(--b50);border:1px solid var(--b200);
  color:var(--b700);border-radius:20px;
  padding:3px 10px;font-size:11.5px;font-weight:600;
}
.atag .x{cursor:pointer;opacity:0.5;font-size:12px;transition:opacity 0.15s;margin-left:2px}
.atag .x:hover{opacity:1}

/* SEARCH */
.sinput-wrap{position:relative;margin-top:14px}
.sinput{
  width:100%;padding:13px 52px 13px 16px;
  border:1.5px solid var(--g200);border-radius:10px;
  background:#fff;color:var(--g800);
  font-family:'Outfit',sans-serif;font-size:14.5px;
  transition:all 0.2s;
}
.sinput:focus{outline:none;border-color:var(--b400);box-shadow:0 0 0 3px rgba(59,130,246,0.1)}
.sinput::placeholder{color:var(--g400)}
.sgo{
  position:absolute;right:6px;top:50%;transform:translateY(-50%);
  background:var(--b600);border:none;border-radius:7px;
  width:36px;height:36px;display:flex;align-items:center;justify-content:center;
  cursor:pointer;color:#fff;font-size:16px;transition:all 0.2s;
}
.sgo:hover{background:var(--b700)}

/* BUTTONS */
.btn-row{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap}
.btn{
  display:flex;align-items:center;justify-content:center;gap:6px;
  padding:12px 20px;border:none;border-radius:9px;
  font-family:'Outfit',sans-serif;font-size:14px;font-weight:600;
  cursor:pointer;transition:all 0.2s;white-space:nowrap;flex:1;
}
.btn-primary{background:var(--b600);color:#fff;box-shadow:0 2px 8px rgba(37,99,235,0.3)}
.btn-primary:hover{background:var(--b700);box-shadow:0 4px 14px rgba(37,99,235,0.4);transform:translateY(-1px)}
.btn-secondary{background:var(--g100);color:var(--g700);border:1px solid var(--g200);flex:0 0 auto}
.btn-secondary:hover{background:var(--g200)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESULTADOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.rhead{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;flex-wrap:wrap;gap:8px}
.rcount{font-family:'Cormorant Garamond',serif;font-size:20px;font-weight:700;color:var(--g800)}
.rcount b{color:var(--b600)}
.rsort{font-size:11.5px;color:var(--g500);background:#fff;border:1px solid var(--g200);padding:5px 12px;border-radius:7px}

/* GRID PROPIEDADES */
.pgrid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:14px}

/* PROPERTY CARD */
.pc{
  background:#fff;border:1px solid var(--g200);
  border-radius:var(--r);overflow:hidden;
  transition:all 0.25s;
  animation:fadeUp 0.35s ease both;
  box-shadow:var(--shadow-sm);
}
@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
.pc:hover{border-color:var(--b300);transform:translateY(-4px);box-shadow:var(--shadow-lg)}

/* Card header color bands */
.pctop{padding:18px;position:relative;overflow:hidden;min-height:100px}
.pctop::after{content:'';position:absolute;bottom:-30px;right:-30px;width:120px;height:120px;border-radius:50%;background:rgba(255,255,255,0.12)}
.pctop.tv{background:linear-gradient(135deg,var(--b800),var(--b600))}
.pctop.ta{background:linear-gradient(135deg,#065f46,#059669)}
.pctop.tb{background:linear-gradient(135deg,#7c2d12,#c2410c)}
.pctop-type{font-size:9.5px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:rgba(255,255,255,0.6);position:relative;z-index:1;margin-bottom:4px;display:flex;align-items:center;gap:6px}
.pc-emoji{font-size:22px;position:relative;z-index:1;margin-bottom:4px}
.pc-dir{font-size:14px;font-weight:700;color:#fff;line-height:1.3;position:relative;z-index:1;margin-bottom:3px}
.pc-city{font-size:11.5px;color:rgba(255,255,255,0.72);position:relative;z-index:1}
.pc-cod{position:absolute;top:12px;right:12px;font-size:10px;background:rgba(0,0,0,0.3);color:rgba(255,255,255,0.85);padding:2px 8px;border-radius:5px;font-weight:600;z-index:1;letter-spacing:0.3px}

/* Card body */
.pcbody{padding:14px 16px}
.mods{display:flex;flex-wrap:wrap;gap:5px;margin-bottom:10px}
.mbadge{display:inline-flex;align-items:center;gap:3px;padding:3px 9px;border-radius:5px;font-size:11px;font-weight:700}
.mbv{background:var(--b50);color:var(--b700);border:1px solid var(--b200)}
.mba{background:var(--greenbg);color:#065f46;border:1px solid rgba(16,185,129,0.2)}
.mbok{background:var(--greenbg);color:#065f46;border:1px solid rgba(16,185,129,0.2)}
.mbst{background:var(--redbg);color:#991b1b;border:1px solid rgba(239,68,68,0.15)}

/* Prices */
.pblock{background:var(--g50);border-radius:8px;padding:11px 13px;margin:8px 0;border:1px solid var(--g100)}
.pventa{font-family:'Cormorant Garamond',serif;font-size:22px;font-weight:700;color:var(--b700);line-height:1}
.pventa small{font-size:11px;font-weight:400;color:var(--g500);font-family:'Outfit',sans-serif}
.parriendo{font-size:14px;font-weight:700;color:#065f46;margin-top:5px}
.parriendo small{font-size:11px;font-weight:400;color:var(--g500)}
.admon{font-size:11px;color:var(--g400);margin-top:4px}
.cross-tag{display:inline-flex;align-items:center;gap:4px;padding:3px 9px;border-radius:5px;font-size:11px;font-weight:600;margin-top:5px}
.cross-v{background:var(--b50);color:var(--b700);border:1px solid var(--b200)}
.cross-a{background:var(--greenbg);color:#065f46;border:1px solid rgba(16,185,129,0.2)}

/* Specs */
.specs{display:flex;flex-wrap:wrap;gap:5px;margin-top:10px;padding-top:10px;border-top:1px solid var(--g100)}
.spec{font-size:11.5px;color:var(--g600);background:var(--g50);padding:3px 9px;border-radius:5px;border:1px solid var(--g200)}

/* Dual alert */
.dalert{background:var(--goldbg);border:1px solid rgba(245,158,11,0.2);border-radius:7px;padding:8px 11px;font-size:11.5px;color:#92400e;margin-top:8px;line-height:1.5}

/* Obs & asesor */
.obs{background:var(--g50);border-radius:7px;padding:7px 10px;font-size:11px;color:var(--g500);margin-top:7px;line-height:1.5;border-left:2px solid var(--b300)}
.asesor{font-size:11.5px;color:var(--g500);margin-top:7px;display:flex;align-items:center;gap:5px}

/* Empty */
.empty{text-align:center;padding:60px 20px;background:#fff;border:1px solid var(--g200);border-radius:var(--r);box-shadow:var(--shadow-sm)}
.empty-ico{font-size:48px;display:block;margin-bottom:14px;opacity:0.5}
.empty h3{font-family:'Cormorant Garamond',serif;font-size:22px;font-weight:700;color:var(--g800);margin-bottom:6px}
.empty p{color:var(--g500);font-size:14px}

/* Loader */
.loader{text-align:center;padding:50px 20px}
.ldots{display:inline-flex;gap:8px;margin-bottom:12px}
.ldot{width:10px;height:10px;border-radius:50%;background:var(--b400);animation:lb 1.2s infinite ease-in-out}
.ldot:nth-child(1){animation-delay:-0.24s}.ldot:nth-child(2){animation-delay:-0.12s}
@keyframes lb{0%,80%,100%{transform:scale(0.6);opacity:0.3}40%{transform:scale(1.3);opacity:1}}

/* Footer */
footer{background:#fff;border-top:1px solid var(--g200);padding:28px 20px;text-align:center}
.footer-logo{display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:6px}
.footer-brand{font-family:'Cormorant Garamond',serif;font-size:16px;font-weight:700;color:var(--g700)}
.footer-sub{font-size:12px;color:var(--g400)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESPONSIVE â€” MOBILE FIRST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media(max-width:640px){
  header .logo-sub{display:none}
  .fgrid{grid-template-columns:1fr}
  .fsec.full{grid-column:1}
  .pgrid{grid-template-columns:1fr}
  .hero{padding:40px 16px 44px}
  .hero h1{font-size:30px}
  .stats-row .stat{min-width:80px}
  .stat-n{font-size:22px}
  .btn-row{flex-direction:column}
  .btn-secondary{flex:1}
  .rhead{flex-direction:column;align-items:flex-start}
  .status-inner{padding:8px 16px}
  .card-body,.card-head{padding:14px 16px}
  .app{padding:16px 12px 60px}
  .nav{padding:0 14px;height:58px}
  .logo-main{font-size:15px}
}
@media(max-width:380px){
  .stats-row{flex-direction:column}
  .stat{border-right:none;border-bottom:1px solid rgba(255,255,255,0.12);padding:12px}
  .stat:last-child{border-bottom:none}
  .hero h1{font-size:26px}
}
@media(min-width:900px){
  .fgrid{grid-template-columns:1fr 1fr}
  .fsec.full{grid-column:1/-1}
}
</style>
</head>
<body>

<!-- â•â• HEADER â•â• -->
<header>
  <div class="nav">
    <a class="logo-wrap" href="#">
      <!-- LOGO SVG MEJORADO -->
      <svg class="logo-svg" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="hg1" x1="0" y1="0" x2="40" y2="40" gradientUnits="userSpaceOnUse">
            <stop offset="0%" stop-color="#1d4ed8"/>
            <stop offset="100%" stop-color="#3b82f6"/>
          </linearGradient>
          <linearGradient id="hg2" x1="0" y1="0" x2="40" y2="40" gradientUnits="userSpaceOnUse">
            <stop offset="0%" stop-color="#1e40af"/>
            <stop offset="100%" stop-color="#2563eb"/>
          </linearGradient>
          <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="0" dy="2" stdDeviation="2" flood-color="#1e3a8a" flood-opacity="0.3"/>
          </filter>
        </defs>
        <!-- Base cuadrada redondeada -->
        <rect width="40" height="40" rx="10" fill="url(#hg1)"/>
        <!-- Casa: techo -->
        <polygon points="20,7 32,18 8,18" fill="white" opacity="0.95"/>
        <!-- Casa: pared -->
        <rect x="12" y="18" width="16" height="13" rx="1" fill="white" opacity="0.85"/>
        <!-- Casa: puerta -->
        <rect x="17" y="24" width="6" height="7" rx="1.5" fill="url(#hg2)"/>
        <!-- Casa: ventana izq -->
        <rect x="13.5" y="20" width="4" height="3.5" rx="0.8" fill="url(#hg2)" opacity="0.8"/>
        <!-- Casa: ventana der -->
        <rect x="22.5" y="20" width="4" height="3.5" rx="0.8" fill="url(#hg2)" opacity="0.8"/>
        <!-- Flecha de crecimiento (dinamismo) -->
        <polyline points="27,13 32,8 32,13" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" opacity="0.7"/>
        <line x1="26" y1="14" x2="32" y2="8" stroke="white" stroke-width="1.8" stroke-linecap="round" opacity="0.7"/>
      </svg>
      <div class="logo-text">
        <span class="logo-main">Inmobiliaria House</span>
        <span class="logo-sub">Pereira Â· Eje Cafetero</span>
      </div>
    </a>
    <div class="live-badge">
      <span class="live-dot"></span>
      <span>En vivo</span>
    </div>
  </div>
</header>

<!-- â•â• HERO â•â• -->
<div class="hero">
  <div class="hero-inner">
    <div class="hero-tag">ğŸ™ï¸ Portafolio actualizado</div>
    <h1>Tu prÃ³xima <em>propiedad</em><br>te estÃ¡ esperando</h1>
    <p class="hero-sub">Venta y arriendo en Pereira, Dosquebradas y el Eje Cafetero. Datos en tiempo real.</p>
    <div class="stats-row">
      <div class="stat"><div class="stat-n" id="hs1">â€”</div><div class="stat-l">Total</div></div>
      <div class="stat"><div class="stat-n" id="hs2">â€”</div><div class="stat-l">En Venta</div></div>
      <div class="stat"><div class="stat-n" id="hs3">â€”</div><div class="stat-l">Arriendo</div></div>
      <div class="stat"><div class="stat-n" id="hs4">â€”</div><div class="stat-l">Ambas</div></div>
    </div>
  </div>
</div>

<!-- â•â• STATUS â•â• -->
<div class="status-bar">
  <div class="status-inner">
    <span id="status-badge" class="sbadge sb-load"><em class="sb-spin">âŸ³</em> Cargando datos...</span>
    <span id="status-time"></span>
    <button class="reload-btn" id="reload-btn" onclick="iniciarCarga()">â†º Actualizar</button>
  </div>
</div>

<!-- â•â• APP â•â• -->
<div class="app">

  <!-- FILTROS -->
  <div class="card">
    <div class="card-head">
      <div class="ch-icon chi-blue">ğŸ”</div>
      <div>
        <div class="ch-title">Buscar Propiedades</div>
        <div class="ch-sub">Filtros combinables Â· Resultados instantÃ¡neos</div>
      </div>
    </div>
    <div class="card-body">
      <div class="fgrid">

        <!-- NEGOCIACIÃ“N -->
        <div class="fsec">
          <div class="flabel">NegociaciÃ³n</div>
          <div class="chips">
            <div class="chip" data-g="neg" data-v="venta" onclick="toggle(this,'cg')">ğŸ’° Venta</div>
            <div class="chip" data-g="neg" data-v="arriendo" onclick="toggle(this)">ğŸ”‘ Arriendo</div>
            <div class="chip" data-g="neg" data-v="ambas" onclick="toggle(this,'co')">ğŸ”„ Ambas</div>
          </div>
        </div>

        <!-- CIUDAD -->
        <div class="fsec">
          <div class="flabel">Ciudad / Sector</div>
          <div class="chips">
            <div class="chip" data-g="ciu" data-v="pereira" onclick="toggle(this)">Pereira</div>
            <div class="chip" data-g="ciu" data-v="dosquebradas" onclick="toggle(this)">Dosquebradas</div>
            <div class="chip" data-g="ciu" data-v="santa rosa" onclick="toggle(this)">Santa Rosa</div>
            <div class="chip" data-g="ciu" data-v="alcala" onclick="toggle(this)">AlcalÃ¡</div>
            <div class="chip" data-g="ciu" data-v="cerritos" onclick="toggle(this)">Cerritos</div>
          </div>
        </div>

        <!-- TIPO INMUEBLE -->
        <div class="fsec full">
          <div class="flabel">Tipo de Inmueble</div>
          <div class="chips">
            <div class="chip" data-g="tipo" data-v="apartamento" onclick="toggle(this)">ğŸ¢ Apartamento</div>
            <div class="chip" data-g="tipo" data-v="aparta estudio" onclick="toggle(this)">ğŸ  Apartaestudio</div>
            <div class="chip" data-g="tipo" data-v="casa" onclick="toggle(this,'cp')">ğŸ¡ Casa</div>
            <div class="chip" data-g="tipo" data-v="casa campestre" onclick="toggle(this,'cp')">ğŸŒ¿ Campestre</div>
            <div class="chip" data-g="tipo" data-v="finca" onclick="toggle(this,'cg')">ğŸŒ¾ Finca</div>
            <div class="chip" data-g="tipo" data-v="local" onclick="toggle(this,'co')">ğŸª Local</div>
            <div class="chip" data-g="tipo" data-v="oficina" onclick="toggle(this)">ğŸ’¼ Oficina</div>
            <div class="chip" data-g="tipo" data-v="bodega" onclick="toggle(this)">ğŸ­ Bodega</div>
            <div class="chip" data-g="tipo" data-v="lote" onclick="toggle(this,'cg')">ğŸŒ³ Lote</div>
            <div class="chip" data-g="tipo" data-v="penthouse" onclick="toggle(this,'co')">ğŸ‘‘ Penthouse</div>
          </div>
        </div>

        <!-- PRECIO ARRIENDO -->
        <div class="fsec">
          <div class="flabel">Precio Arriendo</div>
          <div class="chips">
            <div class="chip" data-g="parr" data-v="0-1000000" onclick="toggle(this)">Hasta $1M</div>
            <div class="chip" data-g="parr" data-v="1000000-1500000" onclick="toggle(this)">$1M â€“ $1.5M</div>
            <div class="chip" data-g="parr" data-v="1500000-2000000" onclick="toggle(this)">$1.5M â€“ $2M</div>
            <div class="chip" data-g="parr" data-v="2000000-3500000" onclick="toggle(this)">$2M â€“ $3.5M</div>
            <div class="chip" data-g="parr" data-v="3500000-999999999" onclick="toggle(this)">+$3.5M</div>
          </div>
        </div>

        <!-- PRECIO VENTA -->
        <div class="fsec">
          <div class="flabel">Precio Venta</div>
          <div class="chips">
            <div class="chip" data-g="pven" data-v="0-150000000" onclick="toggle(this,'cg')">Hasta $150M</div>
            <div class="chip" data-g="pven" data-v="150000000-300000000" onclick="toggle(this,'cg')">$150M â€“ $300M</div>
            <div class="chip" data-g="pven" data-v="300000000-600000000" onclick="toggle(this,'cg')">$300M â€“ $600M</div>
            <div class="chip" data-g="pven" data-v="600000000-9999999999" onclick="toggle(this,'cg')">+$600M</div>
          </div>
        </div>

      </div>

      <!-- FILTROS ACTIVOS -->
      <div class="atags" id="atags"></div>

      <!-- BÃšSQUEDA LIBRE -->
      <div class="sinput-wrap">
        <input class="sinput" id="q" placeholder="Busca por barrio, caracterÃ­stica, precio... ej: casa piscina Cerritos" onkeypress="if(event.key==='Enter')buscar()">
        <button class="sgo" onclick="buscar()">â†’</button>
      </div>

      <div class="btn-row">
        <button class="btn btn-primary" onclick="buscar()">ğŸ” Buscar Propiedades</button>
        <button class="btn btn-secondary" onclick="mostrarTodo()">Ver todos</button>
        <button class="btn btn-secondary" onclick="limpiar()">âœ• Limpiar</button>
      </div>
    </div>
  </div>

  <!-- RESULTADOS -->
  <div id="res"></div>

</div><!-- /app -->

<footer>
  <div class="footer-logo">
    <svg width="24" height="24" viewBox="0 0 40 40" fill="none">
      <rect width="40" height="40" rx="10" fill="#2563eb"/>
      <polygon points="20,7 32,18 8,18" fill="white" opacity="0.95"/>
      <rect x="12" y="18" width="16" height="13" rx="1" fill="white" opacity="0.85"/>
      <rect x="17" y="24" width="6" height="7" rx="1.5" fill="#2563eb"/>
    </svg>
    <span class="footer-brand">Inmobiliaria House</span>
  </div>
  <div class="footer-sub">Portafolio en tiempo real Â· Pereira y Eje Cafetero</div>
</footer>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     JAVASCRIPT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script>
// â”€â”€ CONFIG â”€â”€
const APPS_SCRIPT = 'https://script.google.com/macros/s/AKfycbxFAgHSIQzD9dYVhKi9B4fKrrigISd5G17iiJHx6UhQf3_9e3t6p53R5vOrIcDOAF6Sng/exec';
const CSV_RAW = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRDLV71BFzFH90WHKcp9D0xxMu5SjeLNrHLlWoJxj74-SHEg7ZZlFORnKzOM1bgZCIsG6lF-iWOZltD/pub?gid=1657130181&single=true&output=csv';

let D = [];
const F = { neg:new Set(), ciu:new Set(), tipo:new Set(), parr:new Set(), pven:new Set() };
const LABELS = {
  neg:{venta:'ğŸ’° Venta',arriendo:'ğŸ”‘ Arriendo',ambas:'ğŸ”„ Ambas'},
  ciu:{pereira:'Pereira',dosquebradas:'Dosquebradas','santa rosa':'Santa Rosa',alcala:'AlcalÃ¡',cerritos:'Cerritos'},
  tipo:{apartamento:'ğŸ¢ Apartamento','aparta estudio':'ğŸ  Apartaestudio',casa:'ğŸ¡ Casa','casa campestre':'ğŸŒ¿ Campestre',finca:'ğŸŒ¾ Finca',local:'ğŸª Local',oficina:'ğŸ’¼ Oficina',bodega:'ğŸ­ Bodega',lote:'ğŸŒ³ Lote',penthouse:'ğŸ‘‘ Penthouse'},
  parr:{'0-1000000':'Hasta $1M','1000000-1500000':'$1M-$1.5M','1500000-2000000':'$1.5M-$2M','2000000-3500000':'$2M-$3.5M','3500000-999999999':'+$3.5M'},
  pven:{'0-150000000':'Hasta $150M','150000000-300000000':'$150M-$300M','300000000-600000000':'$300M-$600M','600000000-9999999999':'+$600M'}
};

// â”€â”€ CARGA DE DATOS â”€â”€
async function iniciarCarga() {
  setStatus('load','Cargando datos...');
  document.getElementById('reload-btn').style.display='none';

  // 1. Apps Script propio (principal)
  try {
    const r = await fetch(APPS_SCRIPT, {cache:'no-cache'});
    if (r.ok) {
      const t = await r.text();
      if (t && t.length > 30 && t.includes(',')) { procesarCSV(t, 'Apps Script'); return; }
    }
  } catch(e) { console.warn('Apps Script:', e); }

  // 2. Proxies pÃºblicos de respaldo
  const proxies = [
    async () => { const r = await fetch('https://corsproxy.io/?'+encodeURIComponent(CSV_RAW),{cache:'no-cache'}); return r.ok ? r.text() : null; },
    async () => { const r = await fetch('https://api.allorigins.win/get?url='+encodeURIComponent(CSV_RAW),{cache:'no-cache'}); return r.ok ? (await r.json()).contents : null; },
    async () => { const r = await fetch(CSV_RAW,{cache:'no-cache'}); return r.ok ? r.text() : null; },
  ];
  for (const p of proxies) {
    try { const t = await p(); if (t && t.length > 30) { procesarCSV(t, 'proxy'); return; } } catch(e){}
  }
  setStatus('err','âŒ Sin conexiÃ³n. Toca "Actualizar" para reintentar.');
  document.getElementById('reload-btn').style.display='flex';
}

function procesarCSV(csv, src) {
  try {
    const lines = csv.split('\n').filter(l => l.trim().length > 2);
    if (lines.length < 2) throw new Error('CSV vacÃ­o');
    const hdrs = parseCSVLine(lines[0]).map(h => h.toLowerCase().trim().replace(/\s+/g,' ').replace(/\r/g,''));
    D = [];
    for (let i = 1; i < lines.length; i++) {
      const vals = parseCSVLine(lines[i]);
      if (vals.length < 3) continue;
      const obj = {};
      hdrs.forEach((h,j) => { obj[h] = (vals[j]||'').trim().replace(/\r/g,''); });
      if (Object.values(obj).some(v => v.length > 0)) D.push(obj);
    }
    if (!D.length) throw new Error('Sin registros');
    const vs = D.filter(p=>eV(p)&&!eA2(p)).length;
    const as = D.filter(p=>eA(p)&&!eA2(p)).length;
    const bs = D.filter(p=>eA2(p)).length;
    anim('hs1',D.length); anim('hs2',vs); anim('hs3',as); anim('hs4',bs);
    const t = new Date().toLocaleTimeString('es-CO',{hour:'2-digit',minute:'2-digit'});
    setStatus('ok','âœ… '+D.length+' propiedades cargadas');
    document.getElementById('status-time').textContent = 'Actualizado '+t;
    document.getElementById('reload-btn').style.display='flex';
  } catch(e) {
    setStatus('err','Error al procesar: '+e.message);
    document.getElementById('reload-btn').style.display='flex';
  }
}

function setStatus(type, msg) {
  const el = document.getElementById('status-badge');
  el.className = 'sbadge ' + (type==='ok'?'sb-ok':type==='err'?'sb-err':'sb-load');
  el.innerHTML = type==='load' ? '<em class="sb-spin">âŸ³</em> '+msg : msg;
}
function anim(id, target) {
  const el = document.getElementById(id); let cur=0;
  const step = Math.max(1,Math.ceil(target/25));
  const iv = setInterval(()=>{ cur=Math.min(cur+step,target); el.textContent=cur; if(cur>=target)clearInterval(iv); },45);
}
function parseCSVLine(line) {
  const r=[];let cur='';let inQ=false;
  for(let i=0;i<line.length;i++){
    const c=line[i];
    if(c==='"'){inQ=!inQ;continue;}
    if(c===','&&!inQ){r.push(cur.trim());cur='';continue;}
    cur+=c;
  }
  r.push(cur.trim()); return r;
}

// â”€â”€ HELPERS â”€â”€
const JUNK=['n/a','no aplica','no tiene','sin informacion','sin informaciÃ³n','notiene','no dice','pendiente','sin contacto',''];
function get(obj,...keys){
  for(const k of keys) for(const h of Object.keys(obj)){
    if(h.toLowerCase().includes(k.toLowerCase())){
      const v=(obj[h]||'').trim();
      if(v&&!JUNK.includes(v.toLowerCase()))return v;
    }
  }
  return '';
}
function negocio(p){return(get(p,'tipo de negociaci','negociaci')||'').toLowerCase();}
function ciudad(p){return(get(p,'ubicaci','ciudad')||'').toLowerCase();}
function tipo(p){return(get(p,'tipo de inmueble','tipo')||'').toLowerCase();}
function eV(p){return negocio(p).includes('venta');}
function eA(p){const n=negocio(p);return n.includes('arriendo')||n.includes('renta');}
function eA2(p){return eV(p)&&eA(p);}
function num(v){if(!v)return 0;const n=parseFloat(String(v).replace(/[^\d.]/g,''));return isNaN(n)?0:n;}
function pVenta(p){return num(get(p,'precio de venta','precio venta'));}
function pArriendo(p){return num(get(p,'precio de arriendo','precio arriendo','canon'));}
function enRango(val,r){const[a,b]=r.split('-').map(Number);return val>=a&&val<=b;}

// â”€â”€ FILTROS UI â”€â”€
function toggle(el,cc=''){
  const g=el.dataset.g, v=el.dataset.v;
  if(F[g].has(v)){F[g].delete(v);el.classList.remove('on','cg','co','cp');}
  else{F[g].add(v);el.classList.add('on');if(cc)el.classList.add(cc);}
  renderTags();
}
function renderTags(){
  let h='';
  for(const[g,s]of Object.entries(F))for(const v of s){
    const l=LABELS[g]?.[v]||v;
    h+='<span class="atag">'+l+'<span class="x" onclick="removeF(\''+g+'\',\''+v+'\')">âœ•</span></span>';
  }
  document.getElementById('atags').innerHTML=h;
}
function removeF(g,v){
  F[g].delete(v);
  document.querySelectorAll('.chip[data-g="'+g+'"][data-v="'+v+'"]').forEach(e=>e.classList.remove('on','cg','co','cp'));
  renderTags();
}
function limpiar(){
  for(const g of Object.keys(F))F[g].clear();
  document.querySelectorAll('.chip').forEach(e=>e.classList.remove('on','cg','co','cp'));
  document.getElementById('q').value='';
  document.getElementById('atags').innerHTML='';
  document.getElementById('res').innerHTML='';
}
function mostrarTodo(){
  limpiar();
  if(!D.length){document.getElementById('res').innerHTML='<div class="empty"><span class="empty-ico">ğŸ“¡</span><h3>Cargando...</h3><p>Espera un momento</p></div>';return;}
  render(D,'',false,false);
}

// â”€â”€ BUSCAR â”€â”€
function buscar(){
  const res=document.getElementById('res');
  const qv=document.getElementById('q').value.trim().toLowerCase();
  if(!D.length){res.innerHTML='<div class="empty"><span class="empty-ico">ğŸ“‹</span><h3>Sin datos</h3><p>Espera que cargue la base de datos</p></div>';return;}
  res.innerHTML='<div class="loader"><div class="ldots"><div class="ldot"></div><div class="ldot"></div><div class="ldot"></div></div><p style="color:var(--g500);font-size:14px">Buscando propiedades...</p></div>';
  setTimeout(()=>{
    let lista=D.filter(p=>filtrar(p,qv));
    const hayPrecio=F.parr.size>0||F.pven.size>0||F.neg.size>0||/precio|arriendo|venta|bajo|hasta|desde|valor|\d+m/i.test(qv);
    const esArr=F.neg.has('arriendo')||F.parr.size>0||(/arriendo|renta/i.test(qv)&&!/\bventa\b/i.test(qv));
    if(hayPrecio){lista.sort((a,b)=>{
      const pa=esArr?(pArriendo(a)||pVenta(a)):(pVenta(a)||pArriendo(a));
      const pb=esArr?(pArriendo(b)||pVenta(b)):(pVenta(b)||pArriendo(b));
      return pb-pa;
    });}
    render(lista,qv,hayPrecio,esArr);
  },200);
}

function filtrar(p,qv){
  const neg=negocio(p),ciu=ciudad(p),tip=tipo(p);
  const dir=(get(p,'direccion','direcciÃ³n')||'').toLowerCase();
  const obs=(get(p,'observaciones','observacion')||'').toLowerCase();
  const pv=pVenta(p),pa=pArriendo(p);
  if(F.neg.size>0){let ok=false;if(F.neg.has('venta')&&eV(p))ok=true;if(F.neg.has('arriendo')&&eA(p))ok=true;if(F.neg.has('ambas')&&eA2(p))ok=true;if(!ok)return false;}
  if(F.ciu.size>0){let ok=false;for(const c of F.ciu)if(ciu.includes(c)||dir.includes(c))ok=true;if(!ok)return false;}
  if(F.tipo.size>0){
    let ok=false;
    for(const tv of F.tipo){
      if(tv==='aparta estudio'&&tip.includes('aparta')&&(tip.includes('estudio')||tip.includes('studio')))ok=true;
      else if(tv==='casa campestre'&&tip.includes('campestre'))ok=true;
      else if(tv!=='casa campestre'&&tv!=='aparta estudio'&&tip.includes(tv))ok=true;
    }
    if(!ok)return false;
  }
  if(F.parr.size>0){if(pa<=0)return false;let ok=false;for(const r of F.parr)if(enRango(pa,r))ok=true;if(!ok)return false;}
  if(F.pven.size>0){if(pv<=0)return false;let ok=false;for(const r of F.pven)if(enRango(pv,r))ok=true;if(!ok)return false;}
  if(qv){
    const CIUS=['pereira','dosquebradas','santa rosa','condina','cerritos','cuba','alcala','combia','pinares','manizales'];
    for(const c of CIUS)if(qv.includes(c)&&!ciu.includes(c)&&!dir.includes(c))return false;
    if(/\bapartamento\b|apto\b/i.test(qv)&&!tip.includes('apartamento')&&!tip.includes('apto')&&!tip.includes('estudio'))return false;
    if(/apartaestudio|aparta.?estudio/i.test(qv)&&!tip.includes('estudio'))return false;
    if(/\bcasa\b/i.test(qv)&&!tip.includes('casa'))return false;
    if(/campestre/i.test(qv)&&!tip.includes('campestre'))return false;
    if(/\bfinca\b/i.test(qv)&&!tip.includes('finca'))return false;
    if(/\blocal\b/i.test(qv)&&!tip.includes('local'))return false;
    if(/\boficina\b/i.test(qv)&&!tip.includes('oficina'))return false;
    if(/\blote\b|terreno/i.test(qv)&&!tip.includes('lote')&&!tip.includes('terreno'))return false;
    if(/\bbodega\b/i.test(qv)&&!tip.includes('bodega'))return false;
    if(/penthouse/i.test(qv)&&!tip.includes('penthouse'))return false;
    if(/\bventa\b/i.test(qv)&&!/arriendo|renta/i.test(qv)&&!eV(p))return false;
    if(/\barriendo\b|arrendar|alquiler/i.test(qv)&&!/\bventa\b/i.test(qv)&&!eA(p))return false;
    const pmx=qv.match(/(?:bajo|hasta|maximo|max|menos de)\s*(\d+[\.,]?\d*)\s*(?:m|mill)?/i);
    if(pmx){const n=parseFloat(pmx[1].replace(',','.'));const maxP=n<10000?n*1000000:n;const precio=eA(p)?(pa||pv):(pv||pa);if(precio>0&&precio>maxP)return false;}
  }
  return true;
}

// â”€â”€ RENDER â”€â”€
function getEmoji(t){
  t=(t||'').toLowerCase();
  if(t.includes('penthouse'))return'ğŸ‘‘';if(t.includes('campestre'))return'ğŸŒ¿';
  if(t.includes('finca'))return'ğŸŒ¾';if(t.includes('estudio'))return'ğŸ ';
  if(t.includes('apto')||t.includes('apartamento'))return'ğŸ¢';if(t.includes('casa'))return'ğŸ¡';
  if(t.includes('local'))return'ğŸª';if(t.includes('oficina'))return'ğŸ’¼';
  if(t.includes('lote')||t.includes('terreno'))return'ğŸŒ³';if(t.includes('bodega'))return'ğŸ­';
  return'ğŸ ';
}
function fmt(n){
  if(!n||n<=0)return null;
  if(n>=1000000000)return'$'+(n/1000000000).toFixed(1).replace(/\.0$/,'')+'B';
  if(n>=1000000)return'$'+Math.round(n/1000000).toLocaleString('es-CO')+'M';
  return'$'+Math.round(n).toLocaleString('es-CO');
}

function render(lista,qv,hayPrecio,esArr){
  const res=document.getElementById('res');
  if(!lista.length){res.innerHTML='<div class="empty"><span class="empty-ico">ğŸ”</span><h3>Sin resultados</h3><p>Prueba con otros filtros o criterios de bÃºsqueda</p></div>';return;}
  let h='<div class="rhead"><div class="rcount">ğŸ¯ <b>'+lista.length+'</b> '+(lista.length===1?'propiedad encontrada':'propiedades encontradas')+'</div>'+(hayPrecio?'<div class="rsort">ğŸ“Š Mayor â†’ menor precio</div>':'')+'</div><div class="pgrid">';
  lista.slice(0,80).forEach((p,i)=>{
    const tip=get(p,'tipo de inmueble','tipo')||'Inmueble';
    const dir=get(p,'direccion','direcciÃ³n')||'Sin direcciÃ³n';
    const ciu=get(p,'ubicaci','ciudad')||'';
    const cod=get(p,'codigo','codigo','metrocuadrado')||'';
    const asesor=get(p,'asesor responsable','asesor')||'';
    const obs=get(p,'observaciones','observacion')||'';
    const estado=(get(p,'estado actual','estado')||'DISPONIBLE').toUpperCase();
    const pv=pVenta(p),pa=pArriendo(p);
    const admon=num(get(p,'administraci','admon'));
    const area=get(p,'area construida','Ã¡rea construida','Ã¡rea','area')||'';
    const hab=get(p,'habitaciones')||'';
    const ban=get(p,'baÃ±os','banos')||'';
    const est=get(p,'estrato')||'';
    const ant=get(p,'antigÃ¼edad','antiguedad')||'';
    const ambas=eA2(p),soloV=eV(p)&&!ambas,soloA=eA(p)&&!ambas;
    const headCls=ambas?'tb':soloV?'tv':'ta';
    let mods='';
    if(soloV||ambas)mods+='<span class="mbadge mbv">ğŸ’° Venta</span>';
    if(soloA||ambas)mods+='<span class="mbadge mba">ğŸ”‘ Arriendo</span>';
    const dispOk=estado.includes('DISPONIBLE')||estado.includes('DISP');
    mods+='<span class="mbadge '+(dispOk?'mbok':'mbst')+'">'+(dispOk?'âœ… Disponible':'ğŸ“Œ '+estado)+'</span>';
    let pH='<div class="pblock">';
    if(pv>0){pH+='<div class="pventa">'+fmt(pv)+' <small>venta</small></div>';if(esArr&&pa>0)pH+='<div class="cross-tag cross-a">ğŸ”‘ Arriendo: '+fmt(pa)+'/mes</div>';}
    if(pa>0){pH+='<div class="parriendo">'+fmt(pa)+' <small>/mes arriendo</small></div>';if(!esArr&&pv>0&&!soloA)pH+='<div class="cross-tag cross-v">ğŸ’° Venta: '+fmt(pv)+'</div>';}
    if(!pv&&!pa)pH+='<div style="font-size:13px;color:var(--g400)">Precio a consultar</div>';
    if(admon>0)pH+='<div class="admon">Admon: '+fmt(admon)+'/mes</div>';
    pH+='</div>';
    const dualH=ambas?'<div class="dalert">âš ï¸ <strong>Doble modalidad</strong> Â· Venta: '+(pv>0?fmt(pv):'consultar')+' Â· Arriendo: '+(pa>0?fmt(pa)+'/mes':'consultar')+'</div>':'';
    const specs=[
      hab&&hab!='0'?'<span class="spec">ğŸ›ï¸ '+hab+' hab</span>':'',
      ban&&ban!='0'?'<span class="spec">ğŸš¿ '+ban+' baÃ±os</span>':'',
      area?'<span class="spec">ğŸ“ '+area+' mÂ²</span>':'',
      est&&est!='SIN INFORMACION'?'<span class="spec">â­ Est.'+est+'</span>':'',
      ant&&ant!='SIN INFORMACION'&&ant!='0'?'<span class="spec">ğŸ• '+ant+'</span>':''
    ].filter(Boolean).join('');
    const obsH=obs&&obs.length>3?'<div class="obs">'+obs.slice(0,160)+(obs.length>160?'â€¦':'')+'</div>':'';
    const asesorH=asesor?'<div class="asesor">ğŸ‘¤ <strong>'+asesor+'</strong></div>':'';
    h+='<div class="pc" style="animation-delay:'+Math.min(i*0.04,1.2)+'s"><div class="pctop '+headCls+'">'+(cod?'<span class="pc-cod">'+cod+'</span>':'')+'<div class="pc-emoji">'+getEmoji(tip)+'</div><div class="pctop-type">'+tip+'</div><div class="pc-dir">'+dir+'</div><div class="pc-city">ğŸ“ '+ciu+'</div></div><div class="pcbody"><div class="mods">'+mods+'</div>'+pH+(specs?'<div class="specs">'+specs+'</div>':'')+dualH+obsH+asesorH+'</div></div>';
  });
  h+='</div>';
  if(lista.length>80)h+='<p style="text-align:center;color:var(--g400);margin-top:16px;font-size:13px">Mostrando 80 de '+lista.length+'. Usa los filtros para afinar tu bÃºsqueda.</p>';
  res.innerHTML=h;
  setTimeout(()=>res.scrollIntoView({behavior:'smooth',block:'start'}),100);
}

// â”€â”€ ARRANQUE â”€â”€
window.addEventListener('DOMContentLoaded', iniciarCarga);
</script>
</body>
</html>
